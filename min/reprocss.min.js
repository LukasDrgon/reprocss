/* reproCSS / Tommy Hodgins / MIT License / version 0.0.7 */
(function(root,factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof module==="object"&&module.exports){module.exports=factory()}else{root.reprocss=factory()}})(this,function(e){var reprocss={};reprocss.count=0;reprocss.style=[];reprocss.load=function(){var tag=document.querySelectorAll("style[process]");for(var i=0;i<tag.length;i++){tag[i].setAttribute("data-reprocss",reprocss.count);reprocss.count++;reprocss.process(tag[i])}};reprocss.process=function(tag){reprocss.style.push(tag.innerHTML);tag.innerHTML=null;var trigger=tag.getAttribute("process");var number=tag.getAttribute("data-reprocss");switch(trigger){case"none":tag.innerHTML=reprocss.style[number];break;case"once":reprocss.apply(number);break;case"auto":reprocss.apply(number);window.addEventListener("resize",function(){reprocss.apply(number)});window.addEventListener("input",function(){reprocss.apply(number)});window.addEventListener("click",function(){reprocss.apply(number)});break;default:var triggers=trigger.split(" ");var selectorAttr=tag.getAttribute("selector");if(selectorAttr){var selector=selectorAttr.split(",");for(var j=0;j<selector.length;j++){var element=document.querySelectorAll(selector[j]);for(var k=0;k<element.length;k++){for(var l=0;l<triggers.length;l++){element[k].addEventListener(triggers[l],function(){reprocss.apply(number)})}}}}else{reprocss.apply(number);Array.from(triggers,function(event){window.addEventListener(event,function(){reprocss.apply(number)})})}break}};reprocss.apply=function(number){var tag=document.querySelectorAll("style[data-reprocss]")[number];var css=reprocss.style[number].replace(/\$\{([^\}]*)\}/g,function(string,match){var func=new Function("return "+match);return func()});tag.innerHTML=css};document.addEventListener("DOMContentLoaded",reprocss.load());return reprocss});
